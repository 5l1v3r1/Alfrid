!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.alfrid=t()}}(function(){return function t(e,n,r){function a(o,u){if(!n[o]){if(!e[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return a(n?n:t)},c,c.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,e,n){n.glMatrix=t("./gl-matrix/common.js"),n.mat2=t("./gl-matrix/mat2.js"),n.mat2d=t("./gl-matrix/mat2d.js"),n.mat3=t("./gl-matrix/mat3.js"),n.mat4=t("./gl-matrix/mat4.js"),n.quat=t("./gl-matrix/quat.js"),n.vec2=t("./gl-matrix/vec2.js"),n.vec3=t("./gl-matrix/vec3.js"),n.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":2,"./gl-matrix/mat2.js":3,"./gl-matrix/mat2d.js":4,"./gl-matrix/mat3.js":5,"./gl-matrix/mat4.js":6,"./gl-matrix/quat.js":7,"./gl-matrix/vec2.js":8,"./gl-matrix/vec3.js":9,"./gl-matrix/vec4.js":10}],2:[function(t,e,n){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.setMatrixArrayType=function(t){GLMAT_ARRAY_TYPE=t};var a=Math.PI/180;r.toRadian=function(t){return t*a},e.exports=r},{}],3:[function(t,e,n){var r=t("./common.js"),a={};a.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*i-a*r;return o?(o=1/o,t[0]=i*o,t[1]=-r*o,t[2]=-a*o,t[3]=n*o,t):null},a.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},a.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},a.multiply=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=n[0],s=n[1],f=n[2],c=n[3];return t[0]=r*u+i*s,t[1]=a*u+o*s,t[2]=r*f+i*c,t[3]=a*f+o*c,t},a.mul=a.multiply,a.rotate=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=a*s+o*u,t[2]=r*-u+i*s,t[3]=a*-u+o*s,t},a.scale=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=n[0],s=n[1];return t[0]=r*u,t[1]=a*u,t[2]=i*s,t[3]=o*s,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},a.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},a.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.exports=a},{"./common.js":2}],4:[function(t,e,n){var r=t("./common.js"),a={};a.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=n*i-r*a;return s?(s=1/s,t[0]=i*s,t[1]=-r*s,t[2]=-a*s,t[3]=n*s,t[4]=(a*u-i*o)*s,t[5]=(r*o-n*u)*s,t):null},a.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},a.multiply=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],f=n[0],c=n[1],l=n[2],h=n[3],m=n[4],v=n[5];return t[0]=r*f+i*c,t[1]=a*f+o*c,t[2]=r*l+i*h,t[3]=a*l+o*h,t[4]=r*m+i*v+u,t[5]=a*m+o*v+s,t},a.mul=a.multiply,a.rotate=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],f=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*f,t[1]=a*c+o*f,t[2]=r*-f+i*c,t[3]=a*-f+o*c,t[4]=u,t[5]=s,t},a.scale=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],f=n[0],c=n[1];return t[0]=r*f,t[1]=a*f,t[2]=i*c,t[3]=o*c,t[4]=u,t[5]=s,t},a.translate=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],f=n[0],c=n[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=r*f+i*c+u,t[5]=a*f+o*c+s,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},a.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.exports=a},{"./common.js":2}],5:[function(t,e,n){var r=t("./common.js"),a={};a.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},a.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],f=e[7],c=e[8],l=c*o-u*f,h=-c*i+u*s,m=f*i-o*s,v=n*l+r*h+a*m;return v?(v=1/v,t[0]=l*v,t[1]=(-c*r+a*f)*v,t[2]=(u*r-a*o)*v,t[3]=h*v,t[4]=(c*n-a*s)*v,t[5]=(-u*n+a*i)*v,t[6]=m*v,t[7]=(-f*n+r*s)*v,t[8]=(o*n-r*i)*v,t):null},a.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],f=e[7],c=e[8];return t[0]=o*c-u*f,t[1]=a*f-r*c,t[2]=r*u-a*o,t[3]=u*s-i*c,t[4]=n*c-a*s,t[5]=a*i-n*u,t[6]=i*f-o*s,t[7]=r*s-n*f,t[8]=n*o-r*i,t},a.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],u=t[6],s=t[7],f=t[8];return e*(f*i-o*s)+n*(-f*a+o*u)+r*(s*a-i*u)},a.multiply=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],f=e[6],c=e[7],l=e[8],h=n[0],m=n[1],v=n[2],d=n[3],p=n[4],_=n[5],g=n[6],M=n[7],y=n[8];return t[0]=h*r+m*o+v*f,t[1]=h*a+m*u+v*c,t[2]=h*i+m*s+v*l,t[3]=d*r+p*o+_*f,t[4]=d*a+p*u+_*c,t[5]=d*i+p*s+_*l,t[6]=g*r+M*o+y*f,t[7]=g*a+M*u+y*c,t[8]=g*i+M*s+y*l,t},a.mul=a.multiply,a.translate=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],f=e[6],c=e[7],l=e[8],h=n[0],m=n[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=s,t[6]=h*r+m*o+f,t[7]=h*a+m*u+c,t[8]=h*i+m*s+l,t},a.rotate=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],f=e[6],c=e[7],l=e[8],h=Math.sin(n),m=Math.cos(n);return t[0]=m*r+h*o,t[1]=m*a+h*u,t[2]=m*i+h*s,t[3]=m*o-h*r,t[4]=m*u-h*a,t[5]=m*s-h*i,t[6]=f,t[7]=c,t[8]=l,t},a.scale=function(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},a.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,u=r+r,s=a+a,f=n*o,c=r*o,l=r*u,h=a*o,m=a*u,v=a*s,d=i*o,p=i*u,_=i*s;return t[0]=1-l-v,t[3]=c-_,t[6]=h+p,t[1]=c+_,t[4]=1-f-v,t[7]=m-d,t[2]=h-p,t[5]=m+d,t[8]=1-f-l,t},a.normalFromMat4=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],f=e[7],c=e[8],l=e[9],h=e[10],m=e[11],v=e[12],d=e[13],p=e[14],_=e[15],g=n*u-r*o,M=n*s-a*o,y=n*f-i*o,b=r*s-a*u,w=r*f-i*u,x=a*f-i*s,A=c*d-l*v,T=c*p-h*v,E=c*_-m*v,R=l*p-h*d,k=l*_-m*d,P=h*_-m*p,L=g*P-M*k+y*R+b*E-w*T+x*A;return L?(L=1/L,t[0]=(u*P-s*k+f*R)*L,t[1]=(s*E-o*P-f*T)*L,t[2]=(o*k-u*E+f*A)*L,t[3]=(a*k-r*P-i*R)*L,t[4]=(n*P-a*E+i*T)*L,t[5]=(r*E-n*k-i*A)*L,t[6]=(d*x-p*w+_*b)*L,t[7]=(p*y-v*x-_*M)*L,t[8]=(v*w-d*y+_*g)*L,t):null},a.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.exports=a},{"./common.js":2}],6:[function(t,e,n){var r=t("./common.js"),a={};a.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],i=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],f=e[7],c=e[8],l=e[9],h=e[10],m=e[11],v=e[12],d=e[13],p=e[14],_=e[15],g=n*u-r*o,M=n*s-a*o,y=n*f-i*o,b=r*s-a*u,w=r*f-i*u,x=a*f-i*s,A=c*d-l*v,T=c*p-h*v,E=c*_-m*v,R=l*p-h*d,k=l*_-m*d,P=h*_-m*p,L=g*P-M*k+y*R+b*E-w*T+x*A;return L?(L=1/L,t[0]=(u*P-s*k+f*R)*L,t[1]=(a*k-r*P-i*R)*L,t[2]=(d*x-p*w+_*b)*L,t[3]=(h*w-l*x-m*b)*L,t[4]=(s*E-o*P-f*T)*L,t[5]=(n*P-a*E+i*T)*L,t[6]=(p*y-v*x-_*M)*L,t[7]=(c*x-h*y+m*M)*L,t[8]=(o*k-u*E+f*A)*L,t[9]=(r*E-n*k-i*A)*L,t[10]=(v*w-d*y+_*g)*L,t[11]=(l*y-c*w-m*g)*L,t[12]=(u*T-o*R-s*A)*L,t[13]=(n*R-r*T+a*A)*L,t[14]=(d*M-v*b-p*g)*L,t[15]=(c*b-l*M+h*g)*L,t):null},a.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],u=e[5],s=e[6],f=e[7],c=e[8],l=e[9],h=e[10],m=e[11],v=e[12],d=e[13],p=e[14],_=e[15];return t[0]=u*(h*_-m*p)-l*(s*_-f*p)+d*(s*m-f*h),t[1]=-(r*(h*_-m*p)-l*(a*_-i*p)+d*(a*m-i*h)),t[2]=r*(s*_-f*p)-u*(a*_-i*p)+d*(a*f-i*s),t[3]=-(r*(s*m-f*h)-u*(a*m-i*h)+l*(a*f-i*s)),t[4]=-(o*(h*_-m*p)-c*(s*_-f*p)+v*(s*m-f*h)),t[5]=n*(h*_-m*p)-c*(a*_-i*p)+v*(a*m-i*h),t[6]=-(n*(s*_-f*p)-o*(a*_-i*p)+v*(a*f-i*s)),t[7]=n*(s*m-f*h)-o*(a*m-i*h)+c*(a*f-i*s),t[8]=o*(l*_-m*d)-c*(u*_-f*d)+v*(u*m-f*l),t[9]=-(n*(l*_-m*d)-c*(r*_-i*d)+v*(r*m-i*l)),t[10]=n*(u*_-f*d)-o*(r*_-i*d)+v*(r*f-i*u),t[11]=-(n*(u*m-f*l)-o*(r*m-i*l)+c*(r*f-i*u)),t[12]=-(o*(l*p-h*d)-c*(u*p-s*d)+v*(u*h-s*l)),t[13]=n*(l*p-h*d)-c*(r*p-a*d)+v*(r*h-a*l),t[14]=-(n*(u*p-s*d)-o*(r*p-a*d)+v*(r*s-a*u)),t[15]=n*(u*h-s*l)-o*(r*h-a*l)+c*(r*s-a*u),t},a.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],u=t[6],s=t[7],f=t[8],c=t[9],l=t[10],h=t[11],m=t[12],v=t[13],d=t[14],p=t[15],_=e*o-n*i,g=e*u-r*i,M=e*s-a*i,y=n*u-r*o,b=n*s-a*o,w=r*s-a*u,x=f*v-c*m,A=f*d-l*m,T=f*p-h*m,E=c*d-l*v,R=c*p-h*v,k=l*p-h*d;return _*k-g*R+M*E+y*T-b*A+w*x},a.multiply=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],f=e[6],c=e[7],l=e[8],h=e[9],m=e[10],v=e[11],d=e[12],p=e[13],_=e[14],g=e[15],M=n[0],y=n[1],b=n[2],w=n[3];return t[0]=M*r+y*u+b*l+w*d,t[1]=M*a+y*s+b*h+w*p,t[2]=M*i+y*f+b*m+w*_,t[3]=M*o+y*c+b*v+w*g,M=n[4],y=n[5],b=n[6],w=n[7],t[4]=M*r+y*u+b*l+w*d,t[5]=M*a+y*s+b*h+w*p,t[6]=M*i+y*f+b*m+w*_,t[7]=M*o+y*c+b*v+w*g,M=n[8],y=n[9],b=n[10],w=n[11],t[8]=M*r+y*u+b*l+w*d,t[9]=M*a+y*s+b*h+w*p,t[10]=M*i+y*f+b*m+w*_,t[11]=M*o+y*c+b*v+w*g,M=n[12],y=n[13],b=n[14],w=n[15],t[12]=M*r+y*u+b*l+w*d,t[13]=M*a+y*s+b*h+w*p,t[14]=M*i+y*f+b*m+w*_,t[15]=M*o+y*c+b*v+w*g,t},a.mul=a.multiply,a.translate=function(t,e,n){var r,a,i,o,u,s,f,c,l,h,m,v,d=n[0],p=n[1],_=n[2];return e===t?(t[12]=e[0]*d+e[4]*p+e[8]*_+e[12],t[13]=e[1]*d+e[5]*p+e[9]*_+e[13],t[14]=e[2]*d+e[6]*p+e[10]*_+e[14],t[15]=e[3]*d+e[7]*p+e[11]*_+e[15]):(r=e[0],a=e[1],i=e[2],o=e[3],u=e[4],s=e[5],f=e[6],c=e[7],l=e[8],h=e[9],m=e[10],v=e[11],t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=s,t[6]=f,t[7]=c,t[8]=l,t[9]=h,t[10]=m,t[11]=v,t[12]=r*d+u*p+l*_+e[12],t[13]=a*d+s*p+h*_+e[13],t[14]=i*d+f*p+m*_+e[14],t[15]=o*d+c*p+v*_+e[15]),t},a.scale=function(t,e,n){var r=n[0],a=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.rotate=function(t,e,n,a){var i,o,u,s,f,c,l,h,m,v,d,p,_,g,M,y,b,w,x,A,T,E,R,k,P=a[0],L=a[1],S=a[2],j=Math.sqrt(P*P+L*L+S*S);return Math.abs(j)<r.EPSILON?null:(j=1/j,P*=j,L*=j,S*=j,i=Math.sin(n),o=Math.cos(n),u=1-o,s=e[0],f=e[1],c=e[2],l=e[3],h=e[4],m=e[5],v=e[6],d=e[7],p=e[8],_=e[9],g=e[10],M=e[11],y=P*P*u+o,b=L*P*u+S*i,w=S*P*u-L*i,x=P*L*u-S*i,A=L*L*u+o,T=S*L*u+P*i,E=P*S*u+L*i,R=L*S*u-P*i,k=S*S*u+o,t[0]=s*y+h*b+p*w,t[1]=f*y+m*b+_*w,t[2]=c*y+v*b+g*w,t[3]=l*y+d*b+M*w,t[4]=s*x+h*A+p*T,t[5]=f*x+m*A+_*T,t[6]=c*x+v*A+g*T,t[7]=l*x+d*A+M*T,t[8]=s*E+h*R+p*k,t[9]=f*E+m*R+_*k,t[10]=c*E+v*R+g*k,t[11]=l*E+d*R+M*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},a.rotateX=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[4],o=e[5],u=e[6],s=e[7],f=e[8],c=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+f*r,t[5]=o*a+c*r,t[6]=u*a+l*r,t[7]=s*a+h*r,t[8]=f*a-i*r,t[9]=c*a-o*r,t[10]=l*a-u*r,t[11]=h*a-s*r,t},a.rotateY=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],u=e[2],s=e[3],f=e[8],c=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-f*r,t[1]=o*a-c*r,t[2]=u*a-l*r,t[3]=s*a-h*r,t[8]=i*r+f*a,t[9]=o*r+c*a,t[10]=u*r+l*a,t[11]=s*r+h*a,t},a.rotateZ=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],u=e[2],s=e[3],f=e[4],c=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+f*r,t[1]=o*a+c*r,t[2]=u*a+l*r,t[3]=s*a+h*r,t[4]=f*a-i*r,t[5]=c*a-o*r,t[6]=l*a-u*r,t[7]=h*a-s*r,t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotation=function(t,e,n){var a,i,o,u=n[0],s=n[1],f=n[2],c=Math.sqrt(u*u+s*s+f*f);return Math.abs(c)<r.EPSILON?null:(c=1/c,u*=c,s*=c,f*=c,a=Math.sin(e),i=Math.cos(e),o=1-i,t[0]=u*u*o+i,t[1]=s*u*o+f*a,t[2]=f*u*o-s*a,t[3]=0,t[4]=u*s*o-f*a,t[5]=s*s*o+i,t[6]=f*s*o+u*a,t[7]=0,t[8]=u*f*o+s*a,t[9]=s*f*o-u*a,t[10]=f*f*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},a.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotationTranslation=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=r+r,s=a+a,f=i+i,c=r*u,l=r*s,h=r*f,m=a*s,v=a*f,d=i*f,p=o*u,_=o*s,g=o*f;return t[0]=1-(m+d),t[1]=l+g,t[2]=h-_,t[3]=0,t[4]=l-g,t[5]=1-(c+d),t[6]=v+p,t[7]=0,t[8]=h+_,t[9]=v-p,t[10]=1-(c+m),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},a.fromRotationTranslationScale=function(t,e,n,r){var a=e[0],i=e[1],o=e[2],u=e[3],s=a+a,f=i+i,c=o+o,l=a*s,h=a*f,m=a*c,v=i*f,d=i*c,p=o*c,_=u*s,g=u*f,M=u*c,y=r[0],b=r[1],w=r[2];return t[0]=(1-(v+p))*y,t[1]=(h+M)*y,t[2]=(m-g)*y,t[3]=0,t[4]=(h-M)*b,t[5]=(1-(l+p))*b,t[6]=(d+_)*b,t[7]=0,t[8]=(m+g)*w,t[9]=(d-_)*w,t[10]=(1-(l+v))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},a.fromRotationTranslationScaleOrigin=function(t,e,n,r,a){var i=e[0],o=e[1],u=e[2],s=e[3],f=i+i,c=o+o,l=u+u,h=i*f,m=i*c,v=i*l,d=o*c,p=o*l,_=u*l,g=s*f,M=s*c,y=s*l,b=r[0],w=r[1],x=r[2],A=a[0],T=a[1],E=a[2];return t[0]=(1-(d+_))*b,t[1]=(m+y)*b,t[2]=(v-M)*b,t[3]=0,t[4]=(m-y)*w,t[5]=(1-(h+_))*w,t[6]=(p+g)*w,t[7]=0,t[8]=(v+M)*x,t[9]=(p-g)*x,t[10]=(1-(h+d))*x,t[11]=0,t[12]=n[0]+A-(t[0]*A+t[4]*T+t[8]*E),t[13]=n[1]+T-(t[1]*A+t[5]*T+t[9]*E),t[14]=n[2]+E-(t[2]*A+t[6]*T+t[10]*E),t[15]=1,t},a.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,u=r+r,s=a+a,f=n*o,c=r*o,l=r*u,h=a*o,m=a*u,v=a*s,d=i*o,p=i*u,_=i*s;return t[0]=1-l-v,t[1]=c+_,t[2]=h-p,t[3]=0,t[4]=c-_,t[5]=1-f-v,t[6]=m+d,t[7]=0,t[8]=h+p,t[9]=m-d,t[10]=1-f-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.frustum=function(t,e,n,r,a,i,o){var u=1/(n-e),s=1/(a-r),f=1/(i-o);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(a+r)*s,t[10]=(o+i)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*f,t[15]=0,t},a.perspective=function(t,e,n,r,a){var i=1/Math.tan(e/2),o=1/(r-a);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*r*o,t[15]=0,t},a.perspectiveFromFieldOfView=function(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(o+u),f=2/(a+i);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=-((o-u)*s*.5),t[9]=(a-i)*f*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},a.ortho=function(t,e,n,r,a,i,o){var u=1/(e-n),s=1/(r-a),f=1/(i-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*u,t[13]=(a+r)*s,t[14]=(o+i)*f,t[15]=1,t},a.lookAt=function(t,e,n,i){var o,u,s,f,c,l,h,m,v,d,p=e[0],_=e[1],g=e[2],M=i[0],y=i[1],b=i[2],w=n[0],x=n[1],A=n[2];return Math.abs(p-w)<r.EPSILON&&Math.abs(_-x)<r.EPSILON&&Math.abs(g-A)<r.EPSILON?a.identity(t):(h=p-w,m=_-x,v=g-A,d=1/Math.sqrt(h*h+m*m+v*v),h*=d,m*=d,v*=d,o=y*v-b*m,u=b*h-M*v,s=M*m-y*h,d=Math.sqrt(o*o+u*u+s*s),d?(d=1/d,o*=d,u*=d,s*=d):(o=0,u=0,s=0),f=m*s-v*u,c=v*o-h*s,l=h*u-m*o,d=Math.sqrt(f*f+c*c+l*l),d?(d=1/d,f*=d,c*=d,l*=d):(f=0,c=0,l=0),t[0]=o,t[1]=f,t[2]=h,t[3]=0,t[4]=u,t[5]=c,t[6]=m,t[7]=0,t[8]=s,t[9]=l,t[10]=v,t[11]=0,t[12]=-(o*p+u*_+s*g),t[13]=-(f*p+c*_+l*g),t[14]=-(h*p+m*_+v*g),t[15]=1,t)},a.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.exports=a},{"./common.js":2}],7:[function(t,e,n){var r=t("./common.js"),a=t("./mat3.js"),i=t("./vec3.js"),o=t("./vec4.js"),u={};u.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.rotationTo=function(){var t=i.create(),e=i.fromValues(1,0,0),n=i.fromValues(0,1,0);return function(r,a,o){var s=i.dot(a,o);return-.999999>s?(i.cross(t,e,a),i.length(t)<1e-6&&i.cross(t,n,a),i.normalize(t,t),u.setAxisAngle(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(i.cross(t,a,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,u.normalize(r,r))}}(),u.setAxes=function(){var t=a.create();return function(e,n,r,a){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],u.normalize(e,u.fromMat3(e,t))}}(),u.clone=o.clone,u.fromValues=o.fromValues,u.copy=o.copy,u.set=o.set,u.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.setAxisAngle=function(t,e,n){n=.5*n;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},u.add=o.add,u.multiply=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],u=n[0],s=n[1],f=n[2],c=n[3];return t[0]=r*c+o*u+a*f-i*s,t[1]=a*c+o*s+i*u-r*f,t[2]=i*c+o*f+r*s-a*u,t[3]=o*c-r*u-a*s-i*f,t},u.mul=u.multiply,u.scale=o.scale,u.rotateX=function(t,e,n){n*=.5;var r=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=a*s+i*u,t[2]=i*s-a*u,t[3]=o*s-r*u,t},u.rotateY=function(t,e,n){n*=.5;var r=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-i*u,t[1]=a*s+o*u,t[2]=i*s+r*u,t[3]=o*s-a*u,t},u.rotateZ=function(t,e,n){n*=.5;var r=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=a*s-r*u,t[2]=i*s+o*u,t[3]=o*s-i*u,t},u.calculateW=function(t,e){var n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t},u.dot=o.dot,u.lerp=o.lerp,u.slerp=function(t,e,n,r){var a,i,o,u,s,f=e[0],c=e[1],l=e[2],h=e[3],m=n[0],v=n[1],d=n[2],p=n[3];return i=f*m+c*v+l*d+h*p,0>i&&(i=-i,m=-m,v=-v,d=-d,p=-p),1-i>1e-6?(a=Math.acos(i),o=Math.sin(a),u=Math.sin((1-r)*a)/o,s=Math.sin(r*a)/o):(u=1-r,s=r),t[0]=u*f+s*m,t[1]=u*c+s*v,t[2]=u*l+s*d,t[3]=u*h+s*p,t},u.sqlerp=function(){var t=u.create(),e=u.create();return function(n,r,a,i,o,s){return u.slerp(t,r,o,s),u.slerp(e,a,i,s),u.slerp(n,t,e,2*s*(1-s)),n}}(),u.invert=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*n+r*r+a*a+i*i,u=o?1/o:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-a*u,t[3]=i*u,t},u.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},u.length=o.length,u.len=u.length,u.squaredLength=o.squaredLength,u.sqrLen=u.squaredLength,u.normalize=o.normalize,u.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(e[3*a+a]-e[3*i+i]-e[3*o+o]+1),t[a]=.5*n,n=.5/n,t[3]=(e[3*i+o]-e[3*o+i])*n,t[i]=(e[3*i+a]+e[3*a+i])*n,t[o]=(e[3*o+a]+e[3*a+o])*n}return t},u.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exports=u},{"./common.js":2,"./mat3.js":5,"./vec3.js":9,"./vec4.js":10}],8:[function(t,e,n){var r=t("./common.js"),a={};a.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},a.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},a.set=function(t,e,n){return t[0]=e,t[1]=n,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},a.div=a.divide,a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},a.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},a.lerp=function(t,e,n,r){var a=e[0],i=e[1];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t},a.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},a.transformMat2=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t},a.transformMat2d=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t},a.transformMat3=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,i,o){var u,s;for(n||(n=2),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;s>u;u+=n)t[0]=e[u],t[1]=e[u+1],i(t,t,o),e[u]=t[0],e[u+1]=t[1];return e}}(),a.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exports=a},{"./common.js":2}],9:[function(t,e,n){var r=t("./common.js"),a={};a.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},a.fromValues=function(t,e,n){var a=new r.ARRAY_TYPE(3);return a[0]=t,a[1]=e,a[2]=n,a},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},a.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},a.div=a.divide,a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+r*r+a*a)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=e[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},a.cross=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],u=n[1],s=n[2];return t[0]=a*s-i*u,t[1]=i*o-r*s,t[2]=r*u-a*o,t},a.lerp=function(t,e,n,r){var a=e[0],i=e[1],o=e[2];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t[2]=o+r*(n[2]-o),t},a.hermite=function(t,e,n,r,a,i){var o=i*i,u=o*(2*i-3)+1,s=o*(i-2)+i,f=o*(i-1),c=o*(3-2*i);return t[0]=e[0]*u+n[0]*s+r[0]*f+a[0]*c,t[1]=e[1]*u+n[1]*s+r[1]*f+a[1]*c,t[2]=e[2]*u+n[2]*s+r[2]*f+a[2]*c,t},a.bezier=function(t,e,n,r,a,i){var o=1-i,u=o*o,s=i*i,f=u*o,c=3*i*u,l=3*s*o,h=s*i;return t[0]=e[0]*f+n[0]*c+r[0]*l+a[0]*h,t[1]=e[1]*f+n[1]*c+r[1]*l+a[1]*h,t[2]=e[2]*f+n[2]*c+r[2]*l+a[2]*h,t},a.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,a=2*r.RANDOM()-1,i=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=a*e,t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,t[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,t[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,t},a.transformMat3=function(t,e,n){var r=e[0],a=e[1],i=e[2];return t[0]=r*n[0]+a*n[3]+i*n[6],t[1]=r*n[1]+a*n[4]+i*n[7],t[2]=r*n[2]+a*n[5]+i*n[8],t},a.transformQuat=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],u=n[1],s=n[2],f=n[3],c=f*r+u*i-s*a,l=f*a+s*r-o*i,h=f*i+o*a-u*r,m=-o*r-u*a-s*i;return t[0]=c*f+m*-o+l*-s-h*-u,t[1]=l*f+m*-u+h*-o-c*-s,t[2]=h*f+m*-s+c*-u-l*-o,t},a.rotateX=function(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},a.rotateY=function(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},a.rotateZ=function(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,i,o){var u,s;for(n||(n=3),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;s>u;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],i(t,t,o),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}(),a.angle=function(t,e){var n=a.fromValues(t[0],t[1],t[2]),r=a.fromValues(e[0],e[1],e[2]);a.normalize(n,n),a.normalize(r,r);var i=a.dot(n,r);return i>1?0:Math.acos(i)},a.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exports=a},{"./common.js":2}],10:[function(t,e,n){var r=t("./common.js"),a={};a.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.fromValues=function(t,e,n,a){var i=new r.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=a,i},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},a.div=a.divide,a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(n*n+r*r+a*a+i*i)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+a*a+i*i},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.sqrt(e*e+n*n+r*r+a*a)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],a=t[3];
return e*e+n*n+r*r+a*a},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=n*o,t[1]=r*o,t[2]=a*o,t[3]=i*o),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},a.lerp=function(t,e,n,r){var a=e[0],i=e[1],o=e[2],u=e[3];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t[2]=o+r*(n[2]-o),t[3]=u+r*(n[3]-u),t},a.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),a.normalize(t,t),a.scale(t,t,e),t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,t[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,t[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,t[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,t},a.transformQuat=function(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],u=n[1],s=n[2],f=n[3],c=f*r+u*i-s*a,l=f*a+s*r-o*i,h=f*i+o*a-u*r,m=-o*r-u*a-s*i;return t[0]=c*f+m*-o+l*-s-h*-u,t[1]=l*f+m*-u+h*-o-c*-s,t[2]=h*f+m*-s+c*-u-l*-o,t[3]=e[3],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,i,o){var u,s;for(n||(n=4),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;s>u;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],i(t,t,o),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),a.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exports=a},{"./common.js":2}],11:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("gl-matrix"),u=r(o),s=t("./alfrid/GLTool"),f=r(s),c=t("./alfrid/GLShader"),l=r(c),h=t("./alfrid/Mesh"),m=r(h),v=t("./alfrid/tools/Scheduler"),d=r(v),p=t("./alfrid/tools/EventDispatcher"),_=r(p),g=t("./alfrid/tools/EaseNumber"),M=r(g),y=t("./alfrid/cameras/Camera"),b=r(y),w=t("./alfrid/cameras/CameraOrtho"),x=r(w),A=t("./alfrid/cameras/CameraPerspective"),T=r(A),E="1.0.0",R=function(){function t(){a(this,t),this.glm=u["default"],this.GL=f["default"],this.GLTool=f["default"],this.GLShader=l["default"],this.Mesh=m["default"],this.Scheduler=d["default"],this.EventDispatcher=_["default"],this.EaseNumber=M["default"],this.Camera=b["default"],this.CameraOrtho=x["default"],this.CameraPerspective=T["default"];for(var e in u["default"])u["default"][e]&&(window[e]=u["default"][e])}return i(t,[{key:"log",value:function(){navigator.userAgent.indexOf("Chrome")>-1?console.log("%clib alfrid : VERSION "+E,"background: #193441; color: #FCFFF5"):console.log("lib alfrid : VERSION ",E),console.log("%cClasses : ","color: #193441");for(var t in this)this[t]&&console.log("%c - "+t,"color: #3E606F")}}]),t}(),k=new R;e.exports=k},{"./alfrid/GLShader":12,"./alfrid/GLTool":13,"./alfrid/Mesh":14,"./alfrid/cameras/Camera":15,"./alfrid/cameras/CameraOrtho":16,"./alfrid/cameras/CameraPerspective":17,"./alfrid/tools/EaseNumber":18,"./alfrid/tools/EventDispatcher":19,"./alfrid/tools/Scheduler":20,"gl-matrix":1}],12:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t("./GLTool"),u=r(o),s=function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")},f=void 0,c="#define GLSLIFY 1\n// basic.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n}",l="#define GLSLIFY 1\n// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision highp float;\nvarying vec2 vTextureCoord;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vTextureCoord, 0.0, 1.0);\n}",h=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?c:arguments[0],n=arguments.length<=1||void 0===arguments[1]?l:arguments[1];a(this,t),f=u["default"].gl,this.parameters=[],this.uniformValues={},this.uniformTextures=[];var r=this._createShaderProgram(e,!0),i=this._createShaderProgram(n,!1);this._attachShaderProgram(r,i)}return i(t,[{key:"bind",value:function(){f.useProgram(this.shaderProgram),u["default"].useShader(this),this.uniformTextures=[]}},{key:"uniform",value:function(t,e,n){for(var r=!1,a=void 0,i=0;i<this.parameters.length;i++)if(a=this.parameters[i],a.name===t){a.value=n,r=!0;break}r?this.shaderProgram[t]=a.uniformLoc:(this.shaderProgram[t]=f.getUniformLocation(this.shaderProgram,t),this.parameters.push({name:t,type:e,value:n,uniformLoc:this.shaderProgram[t]})),-1===e.indexOf("Matrix")?f[e](this.shaderProgram[t],n):(f[e](this.shaderProgram[t],!1,n),this.uniformValues[t]=n)}},{key:"_createShaderProgram",value:function(t,e){var n=e?u["default"].VERTEX_SHADER:u["default"].FRAGMENT_SHADER,r=f.createShader(n);return f.shaderSource(r,t),f.compileShader(r),f.getShaderParameter(r,f.COMPILE_STATUS)?r:(console.warn("Error in Shader : ",f.getShaderInfoLog(r)),console.log(s(t)),null)}},{key:"_attachShaderProgram",value:function(t,e){this.shaderProgram=f.createProgram(),f.attachShader(this.shaderProgram,t),f.attachShader(this.shaderProgram,e),f.linkProgram(this.shaderProgram)}}]),t}();n["default"]=h},{"./GLTool":13}],13:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t("gl-matrix"),u=r(o),s=function(){function t(){a(this,t),this.canvas,this._viewport=[0,0,0,0],this._enabledVertexAttribute=[],this.identityMatrix=u["default"].mat4.create(),this._normalMatrix=u["default"].mat3.create(),this._inverseViewMatrix=u["default"].mat4.create(),this._matrix=u["default"].mat4.create(),u["default"].mat4.identity(this.identityMatrix,this.identityMatrix)}return i(t,[{key:"init",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];void 0!==this.canvas&&this.destroy(),this.canvas=t,this.setSize(window.innerWidth,window.innerHeight),this.gl=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e);var n=["EXT_shader_texture_lod","GL_EXT_shader_texture_lod","EXT_sRGB","WEBKIT_WEBGL_depth_texture","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives"];this.extensions={};for(var r=0;r<n.length;r++)this.extensions[n[r]]=this.gl.getExtension(n[r]);var a=this.gl;this.VERTEX_SHADER=a.VERTEX_SHADER,this.FRAGMENT_SHADER=a.FRAGMENT_SHADER,this.COMPILE_STATUS=a.COMPILE_STATUS,this.DEPTH_TEST=a.DEPTH_TEST,this.CULL_FACE=a.CULL_FACE,this.BLEND=a.BLEND,this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.enable(this.BLEND)}},{key:"setViewport",value:function(t,e,n,r){var a=!1;t!==this._viewport[0]&&(a=!0),e!==this._viewport[1]&&(a=!0),n!==this._viewport[2]&&(a=!0),r!==this._viewport[3]&&(a=!0),a&&(this.gl.viewport(t,e,n,r),this._viewport=[t,e,n,r])}},{key:"clear",value:function(t,e,n,r){this.gl.clearColor(t,e,n,r),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},{key:"setMatrices",value:function(t){this.camera=t,this.rotate(this.identityMatrix)}},{key:"useShader",value:function(t){this.shader=t,this.shaderProgram=this.shader.shaderProgram}},{key:"rotate",value:function(t){u["default"].mat4.copy(this._matrix,t),u["default"].mat4.multiply(this._matrix,this.camera.matrix,this._matrix),u["default"].mat3.fromMat4(this._normalMatrix,this._matrix),u["default"].mat3.invert(this._normalMatrix,this._normalMatrix),u["default"].mat3.transpose(this._normalMatrix,this._normalMatrix),u["default"].mat3.fromMat4(this._inverseViewMatrix,this._matrix),u["default"].mat3.invert(this._inverseViewMatrix,this._inverseViewMatrix)}},{key:"draw",value:function(t){function e(t,e,n){return void 0===e.cacheAttribLoc&&(e.cacheAttribLoc={}),void 0===e.cacheAttribLoc[n]&&(e.cacheAttribLoc[n]=t.getAttribLocation(e,n)),e.cacheAttribLoc[n]}for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n];this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r.buffer);var a=e(this.gl,this.shaderProgram,r.name);this.gl.vertexAttribPointer(a,r.itemSize,this.gl.FLOAT,!1,0,0),-1===this._enabledVertexAttribute.indexOf(a)&&(this.gl.enableVertexAttribArray(a),this._enabledVertexAttribute.push(a))}this.shader.uniform("uProjectionMatrix","uniformMatrix4fv",this.camera.projection),this.shader.uniform("uModelMatrix","uniformMatrix4fv",this.identityMatrix),this.shader.uniform("uViewMatrix","uniformMatrix4fv",this.camera.matrix),this.shader.uniform("uNormalMatrix","uniformMatrix3fv",this._normalMatrix),this.shader.uniform("uViewMatrixInverse","uniformMatrix4fv",this._inverseViewMatrix),t.drawType===this.gl.POINTS?this.gl.drawArrays(t.drawType,0,t.vertexSize):this.gl.drawElements(t.drawType,t.iBuffer.numItems,this.gl.UNSIGNED_SHORT,0)}},{key:"setSize",value:function(t,e){this._width=t,this._height=e,this.canvas.width=this._width,this.canvas.height=this._height,this._aspectRatio=this._width/this._height}},{key:"displayExtensions",value:function(){console.log("Extensions : ",this.extensions);for(var t in this.extensions)this.extensions[t]&&console.log(t,":",this.extensions[t])}},{key:"enableAlphaBlending",value:function(){this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)}},{key:"enableAdditiveBlending",value:function(){this.gl.blendFunc(this.gl.ONE,this.gl.ONE)}},{key:"enable",value:function(t){this.gl.enable(t)}},{key:"disable",value:function(t){this.gl.disable(t)}},{key:"viewport",value:function(t,e,n,r){this.setViewport(t,e,n,r)}},{key:"destroy",value:function(){if(this.canvas=null,this.canvas.parentNode)try{this.canvas.parentNode.removeChild(this.canvas)}catch(t){console.log("Error : ",t)}}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"aspectRatio",get:function(){return this._aspectRatio}}]),t}(),f=new s;n["default"]=f},{"gl-matrix":1}],14:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t("./GLTool"),u=r(o),s=void 0,f=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].gl.TRIANGLES:arguments[0];a(this,t),s=u["default"].gl,this.drawType=e,this._attributes=[]}return i(t,[{key:"bufferVertex",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];this.bufferData(t,"aVertexPosition",3,e)}},{key:"bufferTexCoords",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];this.bufferData(t,"aTextureCoord",2,e)}},{key:"bufferIndices",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=e?s.DYNAMIC_DRAW:s.STATIC_DRAW;this._indices=t,this.iBuffer=s.createBuffer(),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.iBuffer),s.bufferData(s.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),n),this.iBuffer.itemSize=1,this.iBuffer.numItems=t.length}},{key:"bufferData",value:function e(t,n,r){var a=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=-1,o=0,u=a?s.DYNAMIC_DRAW:s.STATIC_DRAW,e=[],f=void 0,c=void 0;for(o=0;o<this._attributes.length;o++)if(this._attributes[o].name===n){this._attributes[o].data=t,i=o;break}for(o=0;o<t.length;o++)for(var l=0;l<t[o].length;l++)e.push(t[o][l]);if(-1===i)f=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,f),c=new Float32Array(e),s.bufferData(s.ARRAY_BUFFER,c,u),this._attributes.push({name:n,data:t,itemSize:r,buffer:f,dataArray:c});else{for(f=this._attributes[i].buffer,s.bindBuffer(s.ARRAY_BUFFER,f),c=this._attributes[i].dataArray,o=0;o<e.length;o++)c[o]=e[o];s.bufferData(s.ARRAY_BUFFER,c,u)}}},{key:"attributes",get:function(){return this._attributes}}]),t}();n["default"]=f},{"./GLTool":13}],15:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t("gl-matrix"),u=r(o),s=function(){function t(){a(this,t),this._matrix=u["default"].mat4.create(),this._projection=u["default"].mat4.create(),this.position=u["default"].vec3.create()}return i(t,[{key:"lookAt",value:function(t,e,n){u["default"].vec3.copy(this.position,t),u["default"].mat4.identity(this._matrix),u["default"].mat4.lookAt(this._matrix,t,e,n)}},{key:"matrix",get:function(){return this._matrix}},{key:"projection",get:function(){return this._projection}}]),t}();n["default"]=s},{"gl-matrix":1}],16:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":u(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":u(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var f=t("./Camera"),c=r(f),l=t("gl-matrix"),h=r(l),m=function(t){function e(){a(this,e);var t=i(this,Object.getPrototypeOf(e).call(this)),n=h["default"].vec3.clone([0,0,5]),r=h["default"].vec3.create(),o=h["default"].vec3.clone([0,-1,0]);return t.lookAt(n,r,o),t.ortho(1,-1,1,-1),t}return o(e,t),s(e,[{key:"setBoundary",value:function(t,e,n,r){this.ortho(t,e,n,r)}},{key:"ortho",value:function(t,e,n,r){this.left=t,this.right=e,this.top=n,this.bottom=r,h["default"].mat4.ortho(this._projection,t,e,n,r,0,1e4)}}]),e}(c["default"]);n["default"]=m},{"./Camera":15,"gl-matrix":1}],17:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":u(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":u(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var f=t("./Camera"),c=r(f),l=t("gl-matrix"),h=r(l),m=function(t){function e(){return a(this,e),i(this,Object.getPrototypeOf(e).call(this))}return o(e,t),s(e,[{key:"setPerspective",value:function(t,e,n,r){this._fov=t,this._near=n,this._far=r,this._aspectRatio=e,h["default"].mat4.perspective(this._projection,t,e,n,r)}},{key:"setAspectRatio",value:function(t){this._aspectRatio=t,h["default"].mat4.perspective(this.projection,this._fov,t,this._near,this._far)}}]),e}(c["default"]);n["default"]=m},{"./Camera":15,"gl-matrix":1}],18:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t("./Scheduler"),u=r(o),s=function(){function t(e,n){var r=this;a(this,t),this.easing=n,this._value=e,this._targetValue=e,u["default"].addEF(function(){return r._update()})}return i(t,[{key:"_update",value:function(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing}},{key:"setTo",value:function(t){this._targetValue=this._value=t}},{key:"add",value:function(t){this._targetValue+=t}},{key:"limit",value:function(t,e){return t>e?void this.limit(e,t):(this._min=t,this._max=e,void this._checkLimit())}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"value",set:function(t){this._targetValue=t},get:function(){return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),t}();n["default"]=s},{"./Scheduler":20}],19:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0});var i=!0;try{var o=document.createEvent("CustomEvent");o=null}catch(u){i=!1}var s=function(){function t(){r(this,t)}return a(t,[{key:"addEventListener",value:function(t,e){return null===this._eventListeners&&(this._eventListeners={}),this._eventListeners[t]||(this._eventListeners[t]=[]),this._eventListeners[t].push(e),this}},{key:"removeEventListener",value:function(t,e){null===this._eventListeners&&(this._eventListeners={});var n=this._eventListeners[t];if("undefined"==typeof n)return this;for(var r=n.length,a=0;r>a;a++)n[a]===e&&(n.splice(a,1),a--,r--);return this}},{key:"dispatchEvent",value:function(t){null===this._eventListeners&&(this._eventListeners={});var e=t.type;try{null===t.target&&(t.target=this),t.currentTarget=this}catch(n){var r={type:e,detail:t.detail,dispatcher:this};return this.dispatchEvent(r)}var a=this._eventListeners[e];if(null!==a&&void 0!==a)for(var i=this._copyArray(a),o=i.length,u=0;o>u;u++){var s=i[u];s.call(this,t)}return this}},{key:"dispatchCustomEvent",value:function(t,e){var n=void 0;return i?(n=document.createEvent("CustomEvent"),n.dispatcher=this,n.initCustomEvent(t,!1,!1,e)):n={type:t,detail:e,dispatcher:this},this.dispatchEvent(n)}},{key:"_destroy",value:function(){if(null!==this._eventListeners){for(var t in this._eventListeners)if(this._eventListeners.hasOwnProperty(t)){for(var e=this._eventListeners[t],n=e.length,r=0;n>r;r++)e[r]=null;delete this._eventListeners[t]}this._eventListeners=null}}},{key:"_copyArray",value:function(t){for(var e=new Array(t.length),n=e.length,r=0;n>r;r++)e[r]=t[r];return e}}]),t}();n["default"]=s},{}],20:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(n,"__esModule",{value:!0}),void 0===window.requestAnimFrame&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}());var i=60,o=function(){function t(){r(this,t),this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this._loop()}return a(t,[{key:"addEF",value:function(t,e){e=e||[];var n=this._idTable;return this._enterframeTasks[n]={func:t,params:e},this._idTable++,n}},{key:"removeEF",value:function(t){return void 0!==this._enterframeTasks[t]&&(this._enterframeTasks[t]=null),-1}},{key:"delay",value:function(t,e,n){var r=(new Date).getTime(),a={func:t,params:e,delay:n,time:r};this._delayTasks.push(a)}},{key:"defer",value:function(t,e){var n={func:t,params:e};this._deferTasks.push(n)}},{key:"next",value:function(t,e){var n={func:t,params:e};this._nextTasks.push(n)}},{key:"usurp",value:function(t,e){var n={func:t,params:e};this._usurpTask.push(n)}},{key:"_process",value:function(){var t=0,e=void 0,n=void 0,r=void 0;for(t=0;t<this._enterframeTasks.length;t++)e=this._enterframeTasks[t],null!==e&&void 0!==e&&e.func(e.params);for(;this._highTasks.length>0;)e=this._highTasks.pop(),e.func(e.params);var a=(new Date).getTime();for(t=0;t<this._delayTasks.length;t++)e=this._delayTasks[t],a-e.time>e.delay&&(e.func(e.params),this._delayTasks.splice(t,1));for(a=(new Date).getTime(),n=1e3/i;this._deferTasks.length>0;){if(e=this._deferTasks.shift(),r=(new Date).getTime(),!(n>r-a)){this._deferTasks.unshift(e);break}e.func(e.params)}for(a=(new Date).getTime(),n=1e3/i;this._usurpTask.length>0&&(e=this._usurpTask.shift(),r=(new Date).getTime(),n>r-a);)e.func(e.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[]}},{key:"_loop",value:function(){var t=this;this._process(),window.requestAnimFrame(function(){return t._loop()})}}]),t}(),u=new o;n["default"]=u},{}]},{},[11])(11)});
//# sourceMappingURL=alfrid.min.js.map
